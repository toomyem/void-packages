# Template file for 'yazi'
pkgname=yazi
version=0.2.4
revision=1
short_desc="Yazi - Blazing Fast Terminal File Manager"
maintainer="toomyem <toomyem@gmail.com>"
license=MIT
homepage="https://yazi-rs.github.io/"
archs="x86_64* aarch64*"

case "${XBPS_TARGET_MACHINE}" in
	x86_64)
		_type=gnu ;
		_arch=x86_64 ;
		checksum="2b98c0f5b476026af18b7d4c1a915f8a168cf4500cabc6fdd5ef9b01fd3f21c1"
	;;
	x86_64-musl)
		_type=musl ;
		_arch=x86_64 ;
		checksum="d84940bed392b620a9f772b8e1b31916891a3d71a8831e3662ed13e3709371f5"
	;;
	aarch64)
		_type=gnu ;
		_arch=aarch64 ;
		checksum="97207a7a01f4651d930ed06843300d706414b8cccb899e07b3a567a326cfce15"
	;;
	aarch64-musl)
		_type=musl ;
		_arch=aarch64 ;
		checksum="d8e8943c53325ac0064e08e9e4693b4260a257917a6883f5c25b54be42d7bf76"
	;;
esac

distfiles="https://github.com/sxyazi/yazi/releases/download/v${version}/yazi-${_arch}-unknown-linux-${_type}.zip"

do_extract() {
	vsrcextract yazi-${_arch}-unknown-linux-${_type}.zip
}

do_install() {
	vbin yazi
	vcompletion completions/yazi.bash bash
	vcompletion completions/yazi.fish fish
	vcompletion completions/_yazi zsh
	vlicense LICENSE
}
